<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team Aqua</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="http://d3js.org/d3.v3.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'api/bootstrap.min.css' %}"/>
    <script>
        function showRecommendations()
        {
            var agency = $('#agency').val();
            var total_milage = $('#total_milage').val();
            var fuel_type = $('#fuel_type').val();
            if (agency == null || agency.trim() == ''){
                agency = 50;
            }
            if (total_milage == null || total_milage.trim() == ''){
                total_milage = 100000;
            }
            if (fuel_type == null || fuel_type.trim() == ''){
                fuel_type = 'GAS';
            }
            $.getJSON('{% url 'api:showRecommendations' %}', {"agency": agency,"total_milage": total_milage,"fuel_type": fuel_type}, function(data){
                //$(canvas).remove();
                console.log(data);
                $("#showRecTable tr").remove();
                $.each(data, function(i, item) {
                    $('#showRecTable').append('<tr><td>' + data[i]['agency'] + '</td><td>' + data[i]['postal_code'] +
                            '</td><td>' + data[i]['vin'] + '</td></tr>');
                })

            });

         }
    </script>
</head>
<body>
    <div id="contents" class="container-fluid">
        <div class="row">
            <div id="chart" class="col-md-8">
                <canvas id="map"></canvas>
            </div>
            <!-- Side Bar -->
            <div class="col-md-4">
                <!-- Find Hydrogen -->
                <div class="row well">
                    <div class="col-md-12">
                        <h4>Find Hydrogen Stations</h4>
                        <hr/>

                            <div class="form-group inline-group">
                                <label for="stations_within">
                                    Stations within
                                </label>
                                <input class="form-control" id="stations_within" type="text" />
                            </div>
                            <div class="form-group inline-group">

                                <label for="zip">
                                    Miles Of
                                </label>
                                <input class="form-control" id="zip" type="text" />
                            </div>
                            <br/>
                            <button onclick="findHydrogenStationsButton()" class="btn btn-default" type="submit">
                                Search
                            </button>

                        <div class="row">
                            <div class="col-md-4">
                            </div>
                            <div class="col-md-8">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Find Nearest Electric Station -->
                <div class="row well">
                    <h4>Find Nearest Electric Station</h4>
                    <hr/>
                    <div class="col-md-12">
                        <form role="form">
                            <div class="form-group inline-group">
                                <label for="electric_stations_for">
                                    Electric Stations For:
                                </label>
                                <select id="electric_stations_for" class="form-control">
                                    <option value="one">One</option>
                                    <option value="two">Two</option>
                                    <option value="three">Three</option>
                                    <option value="four">Four</option>
                                    <option value="five">Five</option>
                                </select>
                            </div>
                            <button class="btn btn-default" type="submit">
                                Search
                            </button>
                        </form>
                    </div>
                </div>
                <!-- Agency nearest Hydrogen Station -->
                <div class="row well">
                    <h4>Agency Nearest Hydrogen Station</h4>
                    <hr/>
                    <div class="col-md-12">
                        <form role="form">
                            <div class="form-group inline-group">
                                <label for="electric_stations_for">
                                    Nearest Hydrogen Stations For:
                                </label>
                                <select id="electric_stations_for" class="form-control">
                                    <option value="one">One</option>
                                    <option value="two">Two</option>
                                    <option value="three">Three</option>
                                    <option value="four">Four</option>
                                    <option value="five">Five</option>
                                </select>
                            </div>
                            <button class="btn btn-default" type="submit">
                                Search
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bottom -->
        <h3>Recommend Replacement Vehicle</h3>
        <div class="row well">
            <div class="col-md-4 ">
                <form role="form">
                    <div class="form-group inline-group">

                        <label for="agency">
                            Agency
                        </label>
                        <select id="agency" class="form-control">
                            <option>Fish and Wildlife, Department of</option>
                            <option>Corrections and Rehabilitation, Department of</option>
                            <option>General Services, Department of</option>
                        </select>
                    </div>
                    <div class="form-group inline-group">

                        <label for="total_milage">
                            Total Mileage:
                        </label>
                        <input class="form-control" id="total_milage" type="NUMBER" value="100000" />

                    </div>
                    <div class="form-group inline-group">

                        <label for="fuel_type">
                            Fuel Type:
                        </label>
                        <select id="fuel_type" class="form-control">
                            <option>GAS</option>
                            <option>EVC</option>
                        </select>
                    </div>
                    <button class="btn btn-default" onclick="showRecommendations();return false;" type="submit">
                        Show Recommendations
                    </button>
                </form>
            </div>
            <!-- Table -->
            <div class="col-md-8 ">
                <table class="table table-condensed table-hover">
                    <thead>
                        <tr>
                            <th>Agency</th>
                            <th>Zip Code</th>
                            <th>Vehicle ID</th>
                        </tr>
                    </thead>
                    <tbody id="showRecTable">
                        <tr>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>